(this["webpackJsonpcrypto-krsch"]=this["webpackJsonpcrypto-krsch"]||[]).push([[0],{64:function(e,t,n){},65:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),i=n.n(c),s=n(12),o="SET_DATA",u="SET_INPUT_VALUE",l="SET_SELECT_VALUE",d="SET_LOADING",p=function(e){return{type:o,payload:e}},j=function(e){return{type:d,payload:e}},b=n(28),f=n.n(b),h=(n(63),n(64),n(65),n(2)),m=function(e){var t=e.listItem,n=t.logo_url,a=t.name,r=t.rank,c=t.status,i=t.price;return Object(h.jsxs)("div",{className:"list-item",children:[Object(h.jsxs)("div",{className:"left",children:[Object(h.jsx)("div",{className:"img_wrapper",children:Object(h.jsx)("img",{src:n,alt:"",className:"list-item_img"})}),Object(h.jsx)("span",{className:"coinParam name",children:a}),Object(h.jsx)("span",{className:"coinParam price",children:i})]}),Object(h.jsxs)("div",{className:"right",children:[Object(h.jsx)("span",{className:"price-change",children:parseFloat(e.listItem["1d"].price_change).toFixed(2)}),parseFloat(e.listItem["1d"].price_change)<0?Object(h.jsx)("i",{className:"arrow down"}):Object(h.jsx)("i",{className:"arrow up"}),Object(h.jsxs)("span",{className:"coinParam rank",children:["rank: ",r]}),Object(h.jsx)("span",{className:"coinParam status",children:c})]})]})},g=(n(67),function(e){var t=e.data.filter((function(t){return t.name.toLowerCase().includes(e.inputValue)}));return Object(h.jsx)("div",{className:"list",children:Object(h.jsx)("ul",{children:t.map((function(e){return Object(h.jsx)(m,{listItem:e},e.id)}))})})}),O=n(93),v=(n(68),Object(s.b)((function(e){return{inputValue:e.inputValue}}),(function(e){return{setInputValue:function(t){return e({type:u,payload:t})}}}))((function(e){return Object(h.jsx)("div",{className:"input_wrapper",children:Object(h.jsx)(O.a,{className:"input",placeholder:"Enter currency name",value:e.inputValue,onChange:function(t){return e.setInputValue(t.target.value)}})})}))),x=(n(69),function(e){return Object(h.jsx)("h1",{className:"title",children:e.title})}),y=n(92),N=(n(70),Object(s.b)((function(e){return{selectValue:e.selectValue}}),(function(e){return{setSelectValue:function(t){return e({type:l,payload:t})}}}))((function(e){return Object(h.jsx)("div",{className:"select_wrapper",children:Object(h.jsxs)(y.a,{value:e.selectValue,onChange:function(t){e.setSelectValue(t.target.value),e.onChangeHandler(t)},inputProps:{name:e.name,id:e.name+"_id"},className:"select",children:[Object(h.jsx)("option",{value:"default",children:"by rank (default)"}),e.options.map((function(e){var t=e.optionName,n=e.value;return Object(h.jsx)("option",{value:n,children:t},n+"_key")}))]})})}))),_=n(91),k=(n(71),function(e){return Object(h.jsx)("div",{children:Object(h.jsx)(_.a,{onClick:function(){return e.onClickHandler()},children:e.title})})}),L=(n(72),n(11)),V=n(26),w=n(25),E=n.n(w),D=n(33),C=function(){var e=Object(D.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setLoading(!0),fetch(t.url).then((function(e){return e.json()})).then((function(e){t.setToState(e),t.setLoading(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(e,t,n){var a=e[t];e[t]=e[n],e[n]=a},T=function e(t,n,a){var r;return t.length>1&&(n<(r=function(e,t,n){for(var a=+e[Math.floor((n+t)/2)]["1d"].price_change,r=t,c=n;r<=c;){for(;+e[r]["1d"].price_change<a;)r++;for(;+e[c]["1d"].price_change>a;)c--;r<=c&&(S(e,r,c),r++,c--)}return r}(t,n,a))-1&&e(t,n,r-1),r<a&&e(t,r,a)),t},I=[{value:"quick",optionName:"sort by prise change (quick)"},{value:"shell",optionName:"sort by price (shell)"}],A=Object(s.b)((function(e){return{data:e.data}}),(function(e){return{setData:function(t){return e(p(t))},setLoading:function(t){return e(j(t))}}}))((function(e){return Object(h.jsxs)("div",{className:"header",children:[Object(h.jsx)(x,{title:"crypto dashboard"}),Object(h.jsxs)("div",{className:"wrapper",children:[Object(h.jsx)(N,{name:"sort",options:I,onChangeHandler:function(t){if("quick"===t.target.value){var n=T(e.data,0,e.data.length-1);e.setLoading(!0),e.setData(n),e.setLoading(!1)}else if("default"===t.target.value){var a=e.data.sort((function(e,t){return e.rank-t.rank}));e.setLoading(!0),e.setData(a),e.setLoading(!1)}else{var r=e.data.sort((function(e,t){return t.price-e.price}));e.setLoading(!0),e.setData(r),e.setLoading(!1)}}}),Object(h.jsx)(v,{}),Object(h.jsxs)("div",{className:"button_group",children:[Object(h.jsx)(k,{title:"Update dashboard",onClickHandler:function(){return C({url:"https://api.nomics.com/v1/currencies/ticker?key=1e911955aee02245962e1da42d7edb1528a05475&&interval=1d,30d&convert=EUR&attributes=id,name,logo_url,price,price_timestamp&page=1&per-page=50",setToState:e.setData,setLoading:e.setLoading})}}),Object(h.jsx)(k,{title:"Download data",onClickHandler:function(){return function(e,t){e||console.log("no data provided");var n=null===e||void 0===e?void 0:e.map((function(e){return{name:e.name,id:e.id,logo_url:e.logo_url,price:e.price,rank:e.rank,status:e.status,"1d":{price_change:Object(V.a)(e,["name","id","logo_url","price","rank","status"])["1d"].price_change}}})).reduce((function(e,t){var n=t.id,a=Object(V.a)(t,["id"]);return e[n]=Object(L.a)({},a),e}),{}),a="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(n)),r=document.createElement("a");r.setAttribute("href",a),r.setAttribute("download",t+".json"),document.body.appendChild(r),r.click(),r.remove()}(e.data||null,"cryptoDashboardData")}})]})]})]})})),U=Object(s.b)((function(e){return{data:e.data,inputValue:e.inputValue,isLoading:e.loading}}),(function(e){return{setData:function(t){return e(p(t))},setLoading:function(t){return e(j(t))}}}))((function(e){return Object(a.useEffect)((function(){C({url:"https://api.nomics.com/v1/currencies/ticker?key=1e911955aee02245962e1da42d7edb1528a05475&&interval=1d,30d&convert=EUR&attributes=id,name,logo_url,price,price_timestamp&page=1&per-page=50",setToState:e.setData,setLoading:e.setLoading})}),[]),Object(h.jsx)("div",{className:"app",children:e.isLoading?Object(h.jsx)(f.a,{type:"ThreeDots",color:"#000000",height:300,width:500}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(A,{}),Object(h.jsx)(g,{data:e.data,inputValue:e.inputValue})]})})})),P=n(34),H={data:[],inputValue:"",selectValue:"",loading:!0};var F=Object(P.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case o:return Object(L.a)(Object(L.a)({},e),{},{data:t.payload});case d:return Object(L.a)(Object(L.a)({},e),{},{loading:t.payload});case u:return Object(L.a)(Object(L.a)({},e),{},{inputValue:t.payload});case l:return Object(L.a)(Object(L.a)({},e),{},{selectValue:t.payload.value});default:return e}}));i.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(s.a,{store:F,children:Object(h.jsx)(U,{})})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.bdc5a04a.chunk.js.map